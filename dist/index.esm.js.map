{"version":3,"file":"index.esm.js","sources":["../node_modules/hookuspocus/src/core.js","../node_modules/hookuspocus/src/use_reducer.js","../node_modules/hookuspocus/src/on.js","../node_modules/hookuspocus/src/use_layout_effect.js","../node_modules/hookuspocus/src/use_effect.js","../node_modules/hookuspocus/src/use_state.js","../src/hooks/use_host_element.js","../src/render_qeue.js","../src/hooks/use_attribute.js","../src/hooks/use_prop.js","../src/hooks/use_renderer.js","../src/component.js"],"sourcesContent":["let hookIndex;\nlet stackIndex;\nconst hookDataStack = [];\nexport const dataMap = new (WeakMap || Map)();\nconst runMap = new (WeakMap || Map)();\nexport const hookus = hookFunction => {\n  return function hook() {\n    const context = hookDataStack[stackIndex][0];\n    hookIndex++;\n    const data =\n      hookDataStack[stackIndex][hookIndex] ||\n      (hookDataStack[stackIndex][hookIndex] = [\n        { context, hook: hookFunction }\n      ]);\n    return (dataMap.get(hook) || hookFunction).apply(\n      {},\n      data.concat(Array.from(arguments))\n    );\n  };\n};\nconst runLifeCycles = (context, name) => {\n  const promises = hookDataStack[stackIndex]\n    .map(data => {\n      if (data[0] && data[0][name]) {\n        const result = data[0][name]();\n        data[0][name] = 0;\n        return result;\n      }\n    })\n    .filter(result => result instanceof Promise);\n  if (promises.length > 0) {\n    const promiseAll = Promise.all(promises);\n    runMap.set(\n      context,\n      runMap.has(context) ? runMap.get(context).then(promiseAll) : promiseAll\n    );\n  }\n};\nconst waitForContext = (context, cb) => {\n  if (runMap.has(context)) {\n    const promise = runMap.get(context).then(cb);\n    runMap.set(context, promise);\n    return promise;\n  } else {\n    return cb();\n  }\n};\nconst run = (context, cleanUp, func, args) => {\n  if (cleanUp === true) {\n    runMap.set(context, runLifeCycles(context, \"cleanUp\"));\n    dataMap.delete(context);\n  } else {\n    return waitForContext(context, () => {\n      hookIndex = 0;\n      stackIndex = hookDataStack.push(dataMap.get(context) || [context]) - 1;\n      dataMap.set(context, hookDataStack[stackIndex]);\n      runLifeCycles(context, \"before\");\n      return waitForContext(context, () => {\n        let result = func.apply(func, args);\n        runLifeCycles(context, \"after\");\n        return waitForContext(context, () => {\n          hookDataStack.pop();\n          runMap.delete(context);\n          return result;\n        });\n      });\n    });\n  }\n};\nexport const pocus = function() {\n  const args = Array.from(arguments);\n  let funcArgs;\n  if (args[0][\"pop\"]) {\n    funcArgs = args.shift();\n  }\n  const context = typeof args[1] === \"boolean\" ? args[0] : args[1] || args[0];\n  const cleanUp = args[1] === true || args[2];\n  return run(context, cleanUp, args[0], funcArgs);\n};\n","import { hookus } from \"./core\";\n\nexport const useReducer = hookus((data, reducer, initialArg, init) => {\n  data.s = data.s !== undefined ? data.s : init ? init(initialArg) : initialArg;\n  return [\n    data.s,\n    action => {\n      data.s = reducer(data.s, action);\n      return data.s;\n    }\n  ];\n});\n","import { useReducer } from \"./use_reducer\";\nimport { dataMap } from \"./core\";\n\nexport const on = (hook, cb) => {\n  dataMap.set(hook, cb);\n};\nexport const onStateChanged = cb =>\n  on(useReducer, (data, reducer, initialArg, init) => {\n    const [state, dispatch] = data.hook(data, reducer, initialArg, init);\n    return [\n      state,\n      action => {\n        const result = dispatch(action);\n        if (state !== result) {\n          cb(data.context);\n        }\n        return result;\n      }\n    ];\n  });\n","import { hookus } from \"./core\";\nexport const useLayoutEffect = hookus((data, effect, values) => {\n  if (\n    !data.v ||\n    (values &&\n      !(\n        values.length === data.v.length &&\n        values.every(value => ~data.v.indexOf(value))\n      ))\n  ) {\n    data.v = values;\n    if (data.cleanUp) {\n      data.cleanUp();\n    }\n    data.after = () => {\n      let result = effect();\n      if (result instanceof Promise) {\n        result = result.then(cleanUp => (data.cleanUp = cleanUp));\n      } else {\n        data.cleanUp = result;\n      }\n      return result;\n    };\n  }\n});\n","import { useLayoutEffect } from \"./use_layout_effect\";\n\nexport const useEffect = (effect, values) => {\n  useLayoutEffect(\n    () => new Promise(resolve => requestAnimationFrame(_ => resolve(effect()))),\n    values\n  );\n};\n","import { useReducer } from \"./use_reducer\";\n\nexport const useState = initialState => {\n  const [state, dispatch] = useReducer(\n    (_, action) => action.value,\n    initialState\n  );\n  return [\n    state,\n    newState =>\n      dispatch({\n        value: newState\n      })\n  ];\n};\n","\"use strict\";\nimport { hookus } from \"../../node_modules/hookuspocus/src/index\";\n\nexport const useHostElement = hookus(data => {\n  return data.context;\n});\n","import { on, useReducer } from \"../node_modules/hookuspocus/src/index\";\nconst queue = [];\nlet rendering = false;\nlet renderStart;\nconst unqeue = async () => {\n  if (!rendering && queue.length > 0) {\n    renderStart = renderStart || Date.now();\n    rendering = true;\n    const component = queue.pop();\n    await component.render();\n    const next = () => {\n      rendering = false;\n      unqeue();\n    };\n    if (Date.now() - renderStart > 66) {\n      requestAnimationFrame(next);\n    } else {\n      next();\n    }\n  }\n};\nexport const queueRender = component => {\n  if (queue.indexOf(component) === -1) {\n    queue.push(component);\n  }\n  unqeue();\n};\non(useReducer, (data, reducer, initialArg, init) => {\n  const [state, dispatch] = data.hook(data, reducer, initialArg, init);\n  return [\n    state,\n    action => {\n      const result = dispatch(action);\n      if (state !== result) {\n        queueRender(data.context)\n      }\n      return result;\n    }\n  ];\n});\n","import { useHostElement } from \"./use_host_element\";\nimport { queueRender } from \"../render_qeue\";\nconst observerMap = new (WeakMap || Map)();\nexport const useAttribute = (attributeName, initialValue) => {\n  const element = useHostElement();\n  if (!element.hasAttribute(attributeName) && initialValue !== undefined) {\n    element.setAttribute(attributeName, initialValue);\n  }\n  const attributeValue = element.getAttribute(attributeName);\n  let observer;\n  if (!observerMap.has(element)) {\n    observer = new MutationObserver(_ => {\n      queueRender(element);\n    });\n    observerMap.set(element, observer);\n    observer.observe(element, { attributes: true });\n  } else {\n    observer = observerMap.get(element);\n  }\n  return [\n    attributeValue,\n    value => {\n      observer.disconnect();\n      element.setAttribute(attributeName, value);\n      observer.observe(element, { attributes: true });\n    }\n  ];\n};\n","\"use strict\";\nimport { hookus, useState } from \"../../node_modules/hookuspocus/src/index\";\nimport { queueRender } from \"../render_qeue\";\n\nexport const useProp = hookus((data, name, initialValue) => {\n  const element = data.context;\n  let setProp = data.v;\n  if (!setProp) {\n    let paused = false;\n    if (element[name] === undefined || element.hasOwnProperty(name)) {\n      let val = element[name] || initialValue;\n      Object.defineProperty(element, name, {\n        set: value => {\n          if (val !== value) {\n            val = value;\n            if (!paused) {\n              queueRender(element);\n            }\n          }\n        },\n        get: () => val\n      });\n    }\n    setProp = value => {\n      paused = true;\n      element[name] = value;\n      paused = false;\n    };\n    if (element[name] === undefined) {\n      setProp(initialValue);\n    }\n    data.v = setProp;\n  }\n  return [element[name], setProp];\n});\n","import { hookus } from \"../../node_modules/hookuspocus/src/index\";\n\nexport const useRenderer = hookus((data, rendererIn) => {\n  data.context.renderer = rendererIn;\n});\n","import { pocus } from \"../node_modules/hookuspocus/src/index\";\nimport { queueRender } from \"./render_qeue\";\nexport function component(name, comp, options) {\n  class Component extends HTMLElement {\n    constructor() {\n      super();\n      if (!this.shadowRoot) {\n        this.attachShadow(\n          Object.assign(\n            {\n              mode: \"open\"\n            },\n            options\n          )\n        );\n      }\n      queueRender(this);\n    }\n    renderer(view, shadowRoot) {\n      if (\n        view &&\n        !(view instanceof NodeList\n          ? shadowRoot.contains(view[0])\n          : shadowRoot.contains(view))\n      ) {\n        shadowRoot.innerHTML = \"\";\n        if (view instanceof NodeList) {\n          view.forEach(node => shadowRoot.appendChild(node));\n        } else {\n          shadowRoot.appendChild(view);\n        }\n      }\n    }\n    render() {\n      const view = pocus(comp, this);\n      return this.renderer(view, this.shadowRoot);\n    }\n  }\n  customElements.define(name, Component);\n}\n"],"names":[],"mappings":"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"}