{"version":3,"file":"core.min.js","sources":["../node_modules/hookuspocus/src/index.mjs","../src/lib/renderer.mjs","../src/lib/component.mjs","../src/hooks/core_hooks.mjs"],"sourcesContent":["const OUTSIDE_RUN = Symbol(\"outside_run\");\r\nlet currentHookStateIndex;\r\nlet currentRun = OUTSIDE_RUN;\r\nconst hookStateMap = new (WeakMap ? WeakMap : Map)();\r\nconst reset = () => {\r\n  currentRun = OUTSIDE_RUN;\r\n};\r\nconst createHookApi = name => {\r\n  const hookStates = hookStateMap.get(currentRun.context);\r\n  if (hookStates[currentHookStateIndex] === undefined) {\r\n    hookStates[currentHookStateIndex] = {};\r\n  }\r\n  const hookState = hookStates[currentHookStateIndex];\r\n  const onStateChange = currentRun.onStateChange;\r\n  return {\r\n    onCleanUp(callback) {\r\n      hookState.cleanUp = callback;\r\n    },\r\n    beforeNextRun(callback) {\r\n      hookState.beforeNextRun = callback;\r\n    },\r\n    afterCurrentRun(callback) {\r\n      hookState.afterCurrentRun = callback;\r\n    },\r\n    getApi() {\r\n      return currentRun.api;\r\n    },\r\n    getContext() {\r\n      return currentRun.context;\r\n    },\r\n    getState(initialState) {\r\n      if (hookState.state === undefined) hookState.state = initialState;\r\n      return hookState.state;\r\n    },\r\n    setState(value, silent = false) {\r\n      let oldValue = hookState.state;\r\n      hookState.state = value;\r\n      if (!silent && onStateChange) onStateChange(name, oldValue, value);\r\n    }\r\n  };\r\n};\r\nexport const createHook = (name, hook) => {\r\n  return (...args) => {\r\n    if (currentRun.context === OUTSIDE_RUN)\r\n      throw new Error(\"Hook was called outside of run()!\");\r\n    currentHookStateIndex++;\r\n    const hookApi = createHookApi(name);\r\n    return hook(...args, hookApi);\r\n  };\r\n};\r\nfunction runLifeCycleCallback(name, hookStates, length) {\r\n  let index = length;\r\n  while (index--) {\r\n    const hookState = hookStates[length - index - 1];\r\n    if (hookState[name]) {\r\n      hookState[name]();\r\n      hookState[name] = undefined;\r\n    }\r\n  }\r\n}\r\nexport const run = (\r\n  callback,\r\n  { context, api, onStateChange = () => {} } = {}\r\n) => {\r\n  if (!context) context = callback;\r\n  if (!(context instanceof Object))\r\n    throw new Error(\"Run was called without a valid object context!\");\r\n  if (currentRun !== OUTSIDE_RUN)\r\n    throw new Error(\"Run was called before the end of the previous run!\");\r\n  currentRun = {\r\n    context,\r\n    api,\r\n    onStateChange\r\n  };\r\n  currentHookStateIndex = -1;\r\n  let init = false;\r\n  if (!hookStateMap.has(context)) {\r\n    hookStateMap.set(context, []);\r\n    init = true;\r\n  }\r\n  const hookStates = hookStateMap.get(currentRun.context);\r\n  const length = hookStates.length;\r\n  runLifeCycleCallback(\"beforeNextRun\", hookStates, length);\r\n  const result = callback();\r\n  if (result instanceof Promise) {\r\n    return result.then(value => {\r\n      runLifeCycleCallback(\r\n        \"afterCurrentRun\",\r\n        hookStates,\r\n        init ? hookStates.length : length\r\n      );\r\n      reset();\r\n      return value;\r\n    });\r\n  } else {\r\n    runLifeCycleCallback(\r\n      \"afterCurrentRun\",\r\n      hookStates,\r\n      init ? hookStates.length : length\r\n    );\r\n    reset();\r\n    return result;\r\n  }\r\n};\r\nexport const useReducer = createHook(\r\n  \"useReducer\",\r\n  (reducer, initialState, { getState, setState }) => {\r\n    const state = getState(initialState);\r\n    return [\r\n      state,\r\n      action => {\r\n        setState(reducer(state, action));\r\n      }\r\n    ];\r\n  }\r\n);\r\nexport const useState = createHook(\"useState\", initialState => {\r\n  const [state, dispatch] = useReducer((_, action) => {\r\n    return action.value;\r\n  }, initialState);\r\n\r\n  return [\r\n    state,\r\n    newState =>\r\n      dispatch({\r\n        type: \"set_state\",\r\n        value: newState\r\n      })\r\n  ];\r\n});\r\n\r\nexport const useEffect = createHook(\"useEffect\", (effect, ...rest) => {\r\n  let valuesIn;\r\n  if (rest.length > 1) {\r\n    valuesIn = rest[0];\r\n  }\r\n  const { getState, setState, onCleanUp, afterCurrentRun } = rest[\r\n    rest.length - 1\r\n  ];\r\n  let { values, cleanUp } = getState({});\r\n  let nothingChanged = false;\r\n  if (values !== valuesIn && values && values.length > 0) {\r\n    nothingChanged = true;\r\n    let index = values.length;\r\n\r\n    while (index--) {\r\n      if (valuesIn[index] !== values[index]) {\r\n        nothingChanged = false;\r\n        break;\r\n      }\r\n    }\r\n    values = valuesIn;\r\n  }\r\n  if (!nothingChanged) {\r\n    if (cleanUp) cleanUp();\r\n    afterCurrentRun(() => {\r\n      cleanUp = effect();\r\n      setState({ values: valuesIn, cleanUp });\r\n      if (cleanUp) {\r\n        onCleanUp(() => {\r\n          cleanUp();\r\n        });\r\n      } else {\r\n        onCleanUp(undefined);\r\n      }\r\n    });\r\n  }\r\n});\r\n","import { run } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\nconst passPropsMap = new Map();\r\nlet rendering = false;\r\nconst renderQueue = [];\r\nconst render = element =>\r\n  run(() => element.render(), {\r\n    context: element,\r\n    onStateChange: name => {\r\n      if (name === \"useReducer\") {\r\n        queueRender(element);\r\n      }\r\n    }\r\n  });\r\nconst unqeue = async () => {\r\n  const length = renderQueue.length;\r\n  rendering = true;\r\n  Promise.resolve().then(async () => {\r\n    let index = length;\r\n    while (index--) {\r\n      await render(renderQueue[length - index - 1]);\r\n    }\r\n    renderQueue.splice(0, length);\r\n    rendering = false;\r\n    if (renderQueue.length > 0) unqeue();\r\n  });\r\n};\r\nexport const queueRender = (element, force) => {\r\n  if (\r\n    (renderQueue.indexOf(element) === -1 && element._isConnected === true) ||\r\n    force\r\n  ) {\r\n    renderQueue.push(element);\r\n  }\r\n  if (!rendering) {\r\n    unqeue();\r\n  }\r\n};\r\nexport const getPassableProps = id => {\r\n  const props = passPropsMap.get(id);\r\n  passPropsMap.delete(id);\r\n  return props;\r\n};\r\nlet passPropsId = 100000;\r\nexport const addPassableProps = props => {\r\n  let id = passPropsId.toString(16);\r\n  passPropsId++;\r\n  if (id.length % 2) {\r\n    id = \"0\" + id;\r\n  }\r\n  passPropsMap.set(id, props);\r\n  return id;\r\n};\r\nexport const prps = props => {\r\n  let id = addPassableProps(props);\r\n  return {\r\n    \"data-props\": id\r\n  };\r\n};\r\nexport const defaultRenderer = (view, shadowRoot) => {\r\n  if (\r\n    !(view instanceof NodeList\r\n      ? shadowRoot.contains(view[0])\r\n      : shadowRoot.contains(view))\r\n  ) {\r\n    shadowRoot.innerHTML = \"\";\r\n    if (view instanceof NodeList) {\r\n      view.forEach(node => shadowRoot.appendChild(node));\r\n    } else {\r\n      shadowRoot.appendChild(view);\r\n    }\r\n  }\r\n};\r\n","import { queueRender, defaultRenderer, getPassableProps } from \"./renderer.mjs\";\r\nexport { prps } from \"./renderer.mjs\";\r\nconst componentMap = new Map();\r\nfunction addComponent(name, options = {}) {\r\n  class Component extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      this._props = {};\r\n      this._renderer = defaultRenderer;\r\n      this._isConnected = false;\r\n    }\r\n    connectedCallback() {\r\n      if (!this._shadowRoot) {\r\n        this._shadowRoot = this.attachShadow({\r\n          mode: \"open\",\r\n          ...(options.shadowOptions ? options.shadowOptions : {})\r\n        });\r\n      }\r\n      if (!this._isConnected) {\r\n        this._isConnected = true;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      if (this._isConnected) {\r\n        this._isConnected = false;\r\n        queueRender(this, true);\r\n      }\r\n    }\r\n    render() {\r\n      const propsId = this.getAttribute(\"data-props\");\r\n      if (propsId) {\r\n        this._props = getPassableProps(propsId);\r\n        this.skipQueue = true;\r\n        this.removeAttribute(\"data-props\");\r\n      }\r\n      const view = componentMap.get(name)(this._props);\r\n      this._renderer(view, this._shadowRoot);\r\n      this.init = false;\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      if (this.init) {\r\n        return;\r\n      }\r\n      if (!this.skipQueue && oldVal !== newVal) {\r\n        queueRender(this);\r\n      }\r\n      this.skipQueue = false;\r\n    }\r\n    static get observedAttributes() {\r\n      let observedAttributes = [\"data-props\"];\r\n      if (options.observedAttributes) {\r\n        observedAttributes = observedAttributes.concat(\r\n          options.observedAttributes\r\n        );\r\n      }\r\n      return observedAttributes;\r\n    }\r\n  }\r\n  customElements.define(name, Component);\r\n}\r\nexport const defineComponent = (name, component, options = {}) => {\r\n  if (!componentMap.has(name)) {\r\n    componentMap.set(name, component);\r\n    addComponent(name, options);\r\n  } else {\r\n    console.warn(`Component ${name} was already defined.`);\r\n  }\r\n};\r\n","import {\r\n  useEffect,\r\n  createHook\r\n} from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useHostElement = createHook(\"useHostElement\", ({ getContext }) => {\r\n  return getContext();\r\n});\r\nexport const useShadowRoot = createHook(\"useShadowRoot\", ({ getContext }) => {\r\n  return getContext()._shadowRoot;\r\n});\r\nexport const useRenderer = createHook(\r\n  \"useRenderer\",\r\n  (rendererIn, { getContext, getState }) => {\r\n    const renderer = getState(rendererIn);\r\n    getContext()._renderer = renderer;\r\n  }\r\n);\r\nexport const useAttribute = createHook(\r\n  \"useAttribute\",\r\n  (attributeName, { getContext }) => {\r\n    const element = getContext();\r\n    const attributeValue = element.getAttribute(attributeName);\r\n    return [\r\n      attributeValue,\r\n      value => {\r\n        element.skipQueue = true;\r\n        element.setAttribute(attributeName, value);\r\n      }\r\n    ];\r\n  }\r\n);\r\nexport const useCSS = createHook(\"useCSS\", (parts, ...slots) => {\r\n  let styles;\r\n  slots.pop();\r\n  if (parts instanceof Array) {\r\n    styles = parts\r\n      .map((part, index) => {\r\n        if (slots[index]) {\r\n          return part + slots[index];\r\n        } else {\r\n          return part;\r\n        }\r\n      })\r\n      .join(\"\");\r\n  } else {\r\n    styles = parts;\r\n  }\r\n  styles = styles.replace(/ +(?= )/g, \"\").replace(/\\n/g, \"\");\r\n  const shadowRoot = useShadowRoot();\r\n  const style = document.createElement(\"style\");\r\n  style.innerHTML = styles;\r\n  useEffect(() => {\r\n    shadowRoot.appendChild(style);\r\n    return () => {\r\n      shadowRoot.removeChild(style);\r\n    };\r\n  });\r\n});\r\nexport const useExposeMethod = createHook(\r\n  \"useExposeMethod\",\r\n  (name, method, { getContext }) => {\r\n    const element = getContext();\r\n    element[name] = (...args) => method(...args);\r\n  }\r\n);\r\nexport const useConnectedState = createHook(\r\n  \"useConnectedState\",\r\n  ({ getContext }) => {\r\n    const element = getContext();\r\n    return element._isConnected;\r\n  }\r\n);\r\n"],"names":["OUTSIDE_RUN","Symbol","currentHookStateIndex","currentRun","hookStateMap","WeakMap","Map","reset","createHook","name","hook","args","context","Error","hookApi","hookStates","get","undefined","hookState","onStateChange","[object Object]","callback","cleanUp","beforeNextRun","afterCurrentRun","getApi","api","getContext","getState","initialState","state","value","silent","oldValue","createHookApi","runLifeCycleCallback","length","index","useReducer","reducer","setState","action","useState","dispatch","_","newState","type","useEffect","effect","rest","valuesIn","onCleanUp","values","nothingChanged","passPropsMap","rendering","renderQueue","render","element","Object","init","has","set","result","Promise","then","run","queueRender","unqeue","async","resolve","splice","force","indexOf","_isConnected","push","getPassableProps","id","props","delete","passPropsId","defaultRenderer","view","shadowRoot","NodeList","contains","innerHTML","forEach","node","appendChild","componentMap","useHostElement","useShadowRoot","_shadowRoot","useRenderer","rendererIn","renderer","_renderer","useAttribute","attributeName","getAttribute","skipQueue","setAttribute","useCSS","parts","slots","styles","pop","Array","map","part","join","replace","style","document","createElement","removeChild","useExposeMethod","method","useConnectedState","component","options","console","warn","customElements","define","HTMLElement","super","this","_props","attachShadow","mode","shadowOptions","propsId","removeAttribute","attrName","oldVal","newVal","observedAttributes","concat","addComponent","data-props","toString","addPassableProps"],"mappings":"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"}