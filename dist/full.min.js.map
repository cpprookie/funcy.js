{"version":3,"file":"full.min.js","sources":["../node_modules/hookuspocus/src/index.mjs","../src/lib/renderer.mjs","../src/lib/component.mjs","../src/hooks/use_attribute.mjs","../src/hooks/use_css.mjs","../src/hooks/use_expose_method.mjs","../src/hooks/use_renderer.mjs","../src/hooks/use_host_element.mjs","../src/hooks/use_shadow_root.mjs","../src/hooks/use_connected_state.mjs","../node_modules/htm/preact/standalone.mjs","../src/hooks/use_preact_htm.mjs"],"sourcesContent":["\"use strict\";\r\nconst OUTSIDE_RUN = Symbol(\"outside_run\");\r\nlet currentRun = OUTSIDE_RUN;\r\nconst hookStateMap = new (WeakMap ? WeakMap : Map)();\r\nconst reset = () => {\r\n  currentRun = OUTSIDE_RUN;\r\n};\r\nconst createHookApi = name => {\r\n  const hookStates = hookStateMap.get(currentRun.context);\r\n  if (hookStates[currentRun.hookStateIndex] === undefined) {\r\n    hookStates[currentRun.hookStateIndex] = {};\r\n  }\r\n  const hookState = hookStates[currentRun.hookStateIndex];\r\n  const onStateChange = currentRun.onStateChange;\r\n  return {\r\n    onCleanUp(callback) {\r\n      hookState.cleanUp = callback;\r\n    },\r\n    beforeNextRun(callback) {\r\n      hookState.beforeNextRun = callback;\r\n    },\r\n    afterCurrentRun(callback) {\r\n      hookState.afterCurrentRun = callback;\r\n    },\r\n    getContext() {\r\n      return currentRun.context;\r\n    },\r\n    getState(initialState) {\r\n      if (hookState.state === undefined) hookState.state = initialState;\r\n      return hookState.state;\r\n    },\r\n    setState(value, silent = false) {\r\n      let oldValue = hookState.state;\r\n      hookState.state = value;\r\n      if (!silent && onStateChange) onStateChange(name, oldValue, value);\r\n    }\r\n  };\r\n};\r\nexport const createHook = (name, hook) => {\r\n  return (...args) => {\r\n    if (currentRun.context === OUTSIDE_RUN)\r\n      throw new Error(\"Hook was called outside of run()!\");\r\n    currentRun.hookStateIndex++;\r\n    const hookApi = createHookApi(name);\r\n    return hook(...args, hookApi);\r\n  };\r\n};\r\nfunction runLifeCycleCallback(name, hookStates, length) {\r\n  let index = length;\r\n  while (index--) {\r\n    const hookState = hookStates[length - index - 1];\r\n    if (hookState[name]) {\r\n      hookState[name]();\r\n      hookState[name] = undefined;\r\n    }\r\n  }\r\n}\r\nexport const cleanUp = context => {\r\n  const hookStates = hookStateMap.get(context);\r\n  runLifeCycleCallback(\"cleanUp\", hookStates, hookStates.length);\r\n};\r\nexport const dispose = context => {\r\n  const hookStates = hookStateMap.get(context);\r\n  runLifeCycleCallback(\"cleanUp\", hookStates, hookStates.length);\r\n  hookStateMap.delete(context);\r\n};\r\nexport const run = (runData, ...args) => {\r\n  if (typeof runData === \"function\") {\r\n    runData = {\r\n      context: runData,\r\n      function: runData\r\n    };\r\n  }\r\n  if (!(runData.context instanceof Object))\r\n    throw new Error(\"Run was called without a valid object context!\");\r\n  currentRun = runData;\r\n  currentRun.hookStateIndex = -1;\r\n  let init = false;\r\n  if (!hookStateMap.has(currentRun.context)) {\r\n    hookStateMap.set(currentRun.context, []);\r\n    init = true;\r\n  }\r\n  const hookStates = hookStateMap.get(currentRun.context);\r\n  const length = hookStates.length;\r\n  runLifeCycleCallback(\"beforeNextRun\", hookStates, length);\r\n  const result = runData.function(...args);\r\n  if (result instanceof Promise) {\r\n    return result.then(value => {\r\n      runLifeCycleCallback(\r\n        \"afterCurrentRun\",\r\n        hookStates,\r\n        init ? hookStates.length : length\r\n      );\r\n      reset();\r\n      return value;\r\n    });\r\n  } else {\r\n    runLifeCycleCallback(\r\n      \"afterCurrentRun\",\r\n      hookStates,\r\n      init ? hookStates.length : length\r\n    );\r\n    reset();\r\n    return result;\r\n  }\r\n};\r\nexport const useReducer = createHook(\r\n  \"useReducer\",\r\n  (reducer, initialState, { getState, setState }) => {\r\n    const state = getState(initialState);\r\n    return [\r\n      state,\r\n      action => {\r\n        setState(reducer(state, action));\r\n      }\r\n    ];\r\n  }\r\n);\r\nexport const useState = createHook(\"useState\", initialState => {\r\n  const [state, dispatch] = useReducer((_, action) => {\r\n    return action.value;\r\n  }, initialState);\r\n\r\n  return [\r\n    state,\r\n    newState =>\r\n      dispatch({\r\n        type: \"set_state\",\r\n        value: newState\r\n      })\r\n  ];\r\n});\r\n\r\nexport const useEffect = createHook(\"useEffect\", (effect, ...rest) => {\r\n  let valuesIn;\r\n  if (rest.length > 1) {\r\n    valuesIn = rest[0];\r\n  }\r\n  const { getState, setState, onCleanUp, afterCurrentRun } = rest[\r\n    rest.length - 1\r\n  ];\r\n  let { values, cleanUp } = getState({});\r\n  let nothingChanged = false;\r\n  if (values !== valuesIn && values && values.length > 0) {\r\n    nothingChanged = true;\r\n    let index = values.length;\r\n\r\n    while (index--) {\r\n      if (valuesIn[index] !== values[index]) {\r\n        nothingChanged = false;\r\n        break;\r\n      }\r\n    }\r\n    values = valuesIn;\r\n  }\r\n  if (!nothingChanged) {\r\n    if (cleanUp) cleanUp();\r\n    afterCurrentRun(() => {\r\n      cleanUp = effect();\r\n      setState({ values: valuesIn, cleanUp });\r\n      if (cleanUp) {\r\n        onCleanUp(() => {\r\n          cleanUp();\r\n        });\r\n      } else {\r\n        onCleanUp(undefined);\r\n      }\r\n    });\r\n  }\r\n});\r\n","\"use strict\";\r\nimport { run } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\nconst passPropsMap = new Map();\r\nlet rendering = false;\r\nconst renderQueue = [];\r\nconst render = element => {\r\n  return run({\r\n    context: element,\r\n    onStateChange: (name, state, oldState) => {\r\n      console.log(name, state, oldState);\r\n    },\r\n    function: () => element.render(),\r\n    onStateChange: name => {\r\n      if (name === \"useReducer\") {\r\n        queueRender(element);\r\n      }\r\n    }\r\n  });\r\n};\r\nconst unqeue = async () => {\r\n  const length = renderQueue.length;\r\n  rendering = true;\r\n  Promise.resolve().then(async () => {\r\n    let index = length;\r\n    while (index--) {\r\n      await render(renderQueue[length - index - 1]);\r\n    }\r\n    renderQueue.splice(0, length);\r\n    rendering = false;\r\n    if (renderQueue.length > 0) unqeue();\r\n  });\r\n};\r\nexport const queueRender = (element, force) => {\r\n  if (\r\n    (renderQueue.indexOf(element) === -1 && element._isConnected === true) ||\r\n    force\r\n  ) {\r\n    renderQueue.push(element);\r\n  }\r\n  if (!rendering) {\r\n    unqeue();\r\n  }\r\n};\r\nexport const getPassableProps = id => {\r\n  const props = passPropsMap.get(id);\r\n  passPropsMap.delete(id);\r\n  return props;\r\n};\r\nlet passPropsId = 100000;\r\nexport const addPassableProps = props => {\r\n  let id = passPropsId.toString(16);\r\n  passPropsId++;\r\n  if (id.length % 2) {\r\n    id = \"0\" + id;\r\n  }\r\n  passPropsMap.set(id, props);\r\n  return id;\r\n};\r\nexport const prps = props => {\r\n  let id = addPassableProps(props);\r\n  return {\r\n    \"data-props\": id\r\n  };\r\n};\r\nexport const defaultRenderer = (view, shadowRoot) => {\r\n  if (\r\n    !(view instanceof NodeList\r\n      ? shadowRoot.contains(view[0])\r\n      : shadowRoot.contains(view))\r\n  ) {\r\n    shadowRoot.innerHTML = \"\";\r\n    if (view instanceof NodeList) {\r\n      view.forEach(node => shadowRoot.appendChild(node));\r\n    } else {\r\n      shadowRoot.appendChild(view);\r\n    }\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { queueRender, defaultRenderer, getPassableProps } from \"./renderer.mjs\";\r\nimport { dispose } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\nexport { prps } from \"./renderer.mjs\";\r\nconst componentMap = new Map();\r\nfunction addComponent(name, options = {}) {\r\n  class Component extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      this._props = {};\r\n      this._renderer = defaultRenderer;\r\n      this._isConnected = false;\r\n    }\r\n    connectedCallback() {\r\n      if (!this._shadowRoot) {\r\n        this._shadowRoot = this.attachShadow({\r\n          mode: \"open\",\r\n          ...(options.shadowOptions ? options.shadowOptions : {})\r\n        });\r\n      }\r\n      if (!this._isConnected) {\r\n        this._isConnected = true;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      if (this._isConnected) {\r\n        this._isConnected = false;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    destroy() {\r\n      this.parentElement.removeChild(this);\r\n      dispose(this);\r\n    }\r\n    async render() {\r\n      const propsId = this.getAttribute(\"data-props\");\r\n      if (propsId) {\r\n        this._props = getPassableProps(propsId);\r\n        this.skipQueue = true;\r\n        this.removeAttribute(\"data-props\");\r\n      }\r\n      const view = await Promise.resolve().then(() =>\r\n        componentMap.get(name)(this._props)\r\n      );\r\n      await this._renderer(view, this._shadowRoot);\r\n      this.init = false;\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      if (this.init) {\r\n        return;\r\n      }\r\n      if (!this.skipQueue && oldVal !== newVal) {\r\n        queueRender(this);\r\n      }\r\n      this.skipQueue = false;\r\n    }\r\n    static get observedAttributes() {\r\n      let observedAttributes = [\"data-props\"];\r\n      if (options.observedAttributes) {\r\n        observedAttributes = observedAttributes.concat(\r\n          options.observedAttributes\r\n        );\r\n      }\r\n      return observedAttributes;\r\n    }\r\n  }\r\n  customElements.define(name, Component);\r\n}\r\nexport const defineComponent = (name, component, options = {}) => {\r\n  if (!componentMap.has(name)) {\r\n    componentMap.set(name, component);\r\n    addComponent(name, options);\r\n  } else {\r\n    console.warn(`Component ${name} was already defined.`);\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useAttribute = createHook(\r\n  \"useAttribute\",\r\n  (attributeName, { getContext }) => {\r\n    const element = getContext();\r\n    const attributeValue = element.getAttribute(attributeName);\r\n    return [\r\n      attributeValue,\r\n      value => {\r\n        element.skipQueue = true;\r\n        element.setAttribute(attributeName, value);\r\n      }\r\n    ];\r\n  }\r\n);\r\n","\"use strict\";\r\nimport {\r\n  createHook,\r\n  useEffect\r\n} from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useCSS = createHook(\"useCSS\", (parts, ...slots) => {\r\n  const { getContext } = slots.pop();\r\n  let styles;\r\n  if (parts instanceof Array) {\r\n    styles = parts\r\n      .map((part, index) => {\r\n        if (slots[index]) {\r\n          return part + slots[index];\r\n        } else {\r\n          return part;\r\n        }\r\n      })\r\n      .join(\"\");\r\n  } else {\r\n    styles = parts;\r\n  }\r\n  styles = styles.replace(/ +(?= )/g, \"\").replace(/\\n/g, \"\");\r\n  const shadowRoot = getContext()._shadowRoot;\r\n  const style = document.createElement(\"style\");\r\n  style.innerHTML = styles;\r\n  useEffect(() => {\r\n    shadowRoot.appendChild(style);\r\n    return () => {\r\n      shadowRoot.removeChild(style);\r\n    };\r\n  });\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\nexport const useExposeMethod = createHook(\r\n  \"useExposeMethod\",\r\n  (name, method, { getContext }) => {\r\n    const element = getContext();\r\n    element[name] = (...args) => method(...args);\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useRenderer = createHook(\r\n  \"useRenderer\",\r\n  (rendererIn, { getContext, getState }) => {\r\n    const renderer = getState(rendererIn);\r\n    getContext()._renderer = renderer;\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useHostElement = createHook(\"useHostElement\", ({ getContext }) => {\r\n  return getContext();\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useShadowRoot = createHook(\"useShadowRoot\", ({ getContext }) => {\r\n  return getContext()._shadowRoot;\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/src/index.mjs\";\r\n\r\nexport const useConnectedState = createHook(\r\n  \"useConnectedState\",\r\n  ({ getContext }) => {\r\n    const element = getContext();\r\n    return element._isConnected;\r\n  }\r\n);\r\n","function e(){}var t={},n=[],o=[];function r(t,r){var i,l,a,s,c=arguments,p=o;for(s=arguments.length;s-- >2;)n.push(c[s]);for(r&&null!=r.children&&(n.length||n.push(r.children),delete r.children);n.length;)if((l=n.pop())&&void 0!==l.pop)for(s=l.length;s--;)n.push(l[s]);else\"boolean\"==typeof l&&(l=null),(a=\"function\"!=typeof t)&&(null==l?l=\"\":\"number\"==typeof l?l=String(l):\"string\"!=typeof l&&(a=!1)),a&&i?p[p.length-1]+=l:p===o?p=[l]:p.push(l),i=a;var u=new e;return u.nodeName=t,u.children=p,u.attributes=null==r?void 0:r,u.key=null==r?void 0:r.key,u}function i(e,t){for(var n in t)e[n]=t[n];return e}var l=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,a=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,s=[];function c(e){!e._dirty&&(e._dirty=!0)&&1==s.push(e)&&l(p)}function p(){var e,t=s;for(s=[];e=t.pop();)e._dirty&&B(e)}function u(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function f(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===a.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,_,l):e.removeEventListener(t,_,l),(e._listeners||(e._listeners={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var s=r&&t!==(t=t.replace(/^xlink:?/,\"\"));null==o||!1===o?s?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(s?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function _(e){return this._listeners[e.type](e)}var h=[],m=0,y=!1,b=!1;function g(){for(var e;e=h.pop();)e.componentDidMount&&e.componentDidMount()}function C(e,t,n,o,r,i){m++||(y=null!=r&&void 0!==r.ownerSVGElement,b=null!=e&&!(\"__preactattr_\"in e));var l=x(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--m||(b=!1,i||g()),l}function x(e,t,n,o,r){var i=e,l=y;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),N(e,!0))),i.__preactattr_=!0,i;var a,s,c=t.nodeName;if(\"function\"==typeof c)return function(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,s=a,c=f(t);for(;r&&!s&&(r=r._parentComponent);)s=r.constructor===t.nodeName;r&&s&&(!o||r._component)?(T(r,c,3,n,o),e=r.base):(i&&!a&&(P(i),e=l=null),r=S(t.nodeName,c,n),e&&!r.nextBase&&(r.nextBase=e,l=null),T(r,c,1,n,o),e=r.base,l&&e!==l&&(l._component=null,N(l,!1)));return e}(e,t,n,o);if(y=\"svg\"===c||\"foreignObject\"!==c&&y,c=String(c),(!e||!u(e,c))&&(a=c,(s=y?document.createElementNS(\"http://www.w3.org/2000/svg\",a):document.createElement(a)).normalizedNodeName=a,i=s,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),N(e,!0)}var p=i.firstChild,_=i.__preactattr_,h=t.children;if(null==_){_=i.__preactattr_={};for(var m=i.attributes,g=m.length;g--;)_[m[g].name]=m[g].value}return!b&&h&&1===h.length&&\"string\"==typeof h[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=h[0]&&(p.nodeValue=h[0]):(h&&h.length||null!=p)&&function(e,t,n,o,r){var i,l,a,s,c,p=e.childNodes,f=[],v={},_=0,h=0,m=p.length,y=0,b=t?t.length:0;if(0!==m)for(var g=0;g<m;g++){var C=p[g],k=C.__preactattr_,w=b&&k?C._component?C._component.__key:k.key:null;null!=w?(_++,v[w]=C):(k||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(f[y++]=C)}if(0!==b)for(var g=0;g<b;g++){c=null;var w=(s=t[g]).key;if(null!=w)_&&void 0!==v[w]&&(c=v[w],v[w]=void 0,_--);else if(!c&&h<y)for(i=h;i<y;i++)if(void 0!==f[i]&&(S=l=f[i],T=r,\"string\"==typeof(L=s)||\"number\"==typeof L?void 0!==S.splitText:\"string\"==typeof L.nodeName?!S._componentConstructor&&u(S,L.nodeName):T||S._componentConstructor===L.nodeName)){c=l,f[i]=void 0,i===y-1&&y--,i===h&&h++;break}c=x(c,s,n,o),a=p[g],c&&c!==e&&c!==a&&(null==a?e.appendChild(c):c===a.nextSibling?d(a):e.insertBefore(c,a))}var S,L,T;if(_)for(var g in v)void 0!==v[g]&&N(v[g],!1);for(;h<=y;)void 0!==(c=f[y--])&&N(c,!1)}(i,h,n,o,b||null!=_.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||v(e,o,n[o],n[o]=void 0,y);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||v(e,o,n[o],n[o]=t[o],y)}(i,t.attributes,_),y=l,i}function N(e,t){var n=e._component;n?P(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||d(e),k(e))}function k(e){for(e=e.lastChild;e;){var t=e.previousSibling;N(e,!0),e=t}}var w={};function S(e,t,n){var o,r=w[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),U.call(o,t,n)):((o=new U(t,n)).constructor=e,o.render=L),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function L(e,t,n){return this.constructor(e,n)}function T(e,n,o,r,i){e._disable||(e._disable=!0,(e.__ref=n.ref)&&delete n.ref,(e.__key=n.key)&&delete n.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==o&&(1!==o&&!1===t.syncComponentUpdates&&e.base?c(e):B(e,1,i)),e.__ref&&e.__ref(e))}function B(e,t,n,o){if(!e._disable){var r,l,a,s=e.props,c=e.state,p=e.context,u=e.prevProps||s,d=e.prevState||c,v=e.prevContext||p,_=e.base,y=e.nextBase,b=_||y,x=e._component,k=!1;if(_&&(e.props=u,e.state=d,e.context=v,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,p)?k=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,p),e.props=s,e.state=c,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!k){r=e.render(s,c,p),e.getChildContext&&(p=i(i({},p),e.getChildContext()));var w,L,U=r&&r.nodeName;if(\"function\"==typeof U){var M=f(r);(l=x)&&l.constructor===U&&M.key==l.__key?T(l,M,1,p,!1):(w=l,e._component=l=S(U,M,p),l.nextBase=l.nextBase||y,l._parentComponent=e,T(l,M,0,p,!1),B(l,1,n,!0)),L=l.base}else a=b,(w=x)&&(a=e._component=null),(b||1===t)&&(a&&(a._component=null),L=C(a,r,p,n||!_,b&&b.parentNode,!0));if(b&&L!==b&&l!==x){var W=b.parentNode;W&&L!==W&&(W.replaceChild(L,b),w||(b._component=null,N(b,!1)))}if(w&&P(w),e.base=L,L&&!o){for(var A=e,E=e;E=E._parentComponent;)(A=E).base=L;L._component=A,L._componentConstructor=A.constructor}}if(!_||n?h.unshift(e):k||e.componentDidUpdate&&e.componentDidUpdate(u,d,v),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);m||o||g()}}function P(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?P(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,d(t),function(e){var t=e.constructor.name;(w[t]||(w[t]=[])).push(e)}(e),k(t)),e.__ref&&e.__ref(null)}function U(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}i(U.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,\"function\"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),c(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),B(this,2)},render:function(){}});var M={},W=JSON.stringify;var A=function(e){for(var t,n,o,r,i,l=0,a=\"return \",s=\"\",c=\"\",p=0,u=\"\",f=\"\",d=\"\",v=0,_=function(){o?9===l?(p++&&(a+=\",\"),a+=\"h(\"+(c||W(s)),l=0):13===l||0===l&&\"...\"===s?(0===l?(d||(d=\")\",u=u?\"Object.assign(\"+u:\"Object.assign({}\"),u+=f+\",\"+c,f=\"\"):r&&(u+=u?\",\"+(f?\"\":\"{\"):\"{\",f=\"}\",u+=W(r)+\":\",u+=c||(i||s)&&W(s)||\"true\",r=\"\"),i=!1):0===l&&(l=13,r=s,s=c=\"\",_(),l=0):(c||(s=s.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))&&(p++&&(a+=\",\"),a+=c||W(s)),s=c=\"\"},h=0;h<e.length;h++){h>0&&(o||_(),c=\"$[\"+h+\"]\",_());for(var m=0;m<e[h].length;m++){if(n=e[h].charCodeAt(m),o){if(39===n||34===n){if(v===n){v=0;continue}if(0===v){v=n;continue}}if(0===v)switch(n){case 62:_(),47!==l&&(a+=u?\",\"+u+f+d:\",null\"),t&&(a+=\")\"),o=0,u=\"\",l=1;continue;case 61:l=13,i=!0,r=s,s=\"\";continue;case 47:t||(t=!0,9!==l||s.trim()||(s=c=\"\",l=47));continue;case 9:case 10:case 13:case 32:_(),l=0;continue}}else if(60===n){_(),o=1,d=f=u=\"\",t=i=!1,l=9;continue}s+=e[h].charAt(m)}}return _(),Function(\"h\",\"$\",a)};function E(e,t){!function(e,t,n){C(n,e,{},!1,t,!1)}(e,t,t.firstElementChild)}var V=function(e){for(var t=\".\",n=0;n<e.length;n++)t+=e[n].length+\",\"+e[n];return(M[t]||(M[t]=A(e)))(this,arguments)}.bind(r);export{r as h,V as html,E as render,U as Component};\n","import { createHook, useRenderer } from \"../export_core.mjs\";\r\nimport { html, render } from \"../../node_modules/htm/preact/standalone.mjs\";\r\nexport const usePreactHtm = createHook(\"usePreactHtm\", () => {\r\n  useRenderer((view, shadowRoot) => {\r\n    render(view, shadowRoot);\r\n  });\r\n  return html;\r\n});\r\n"],"names":["OUTSIDE_RUN","Symbol","currentRun","hookStateMap","WeakMap","Map","reset","createHook","name","hook","args","context","Error","hookStateIndex","hookApi","hookStates","get","undefined","hookState","onStateChange","[object Object]","callback","cleanUp","beforeNextRun","afterCurrentRun","getContext","getState","initialState","state","value","silent","oldValue","createHookApi","runLifeCycleCallback","length","index","dispose","delete","useReducer","reducer","setState","action","useState","dispatch","_","newState","type","useEffect","effect","rest","valuesIn","onCleanUp","values","nothingChanged","passPropsMap","rendering","renderQueue","render","element","runData","function","Object","init","has","set","result","Promise","then","run","oldState","console","log","queueRender","unqeue","async","resolve","splice","force","indexOf","_isConnected","push","getPassableProps","id","props","passPropsId","defaultRenderer","view","shadowRoot","NodeList","contains","innerHTML","forEach","node","appendChild","componentMap","useAttribute","attributeName","getAttribute","skipQueue","setAttribute","useCSS","parts","slots","pop","styles","Array","map","part","join","replace","_shadowRoot","style","document","createElement","removeChild","useExposeMethod","method","useRenderer","rendererIn","renderer","_renderer","useHostElement","useShadowRoot","useConnectedState","e","t","n","o","i","l","bind","setTimeout","a","s","c","_dirty","p","B","u","normalizedNodeName","nodeName","toLowerCase","f","attributes","children","defaultProps","d","parentNode","v","r","cssText","test","__html","substring","addEventListener","removeEventListener","_listeners","removeAttribute","removeAttributeNS","setAttributeNS","className","this","h","m","y","b","g","componentDidMount","C","ownerSVGElement","x","splitText","_component","nodeValue","createTextNode","replaceChild","N","__preactattr_","_componentConstructor","_parentComponent","constructor","T","base","P","S","nextBase","String","createElementNS","firstChild","nextSibling","L","childNodes","k","w","__key","key","trim","insertBefore","dangerouslySetInnerHTML","ref","lastChild","previousSibling","prototype","U","call","_disable","__ref","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","prevState","shouldComponentUpdate","componentWillUpdate","getChildContext","M","W","A","E","unshift","componentDidUpdate","_renderCallbacks","componentWillUnmount","forceUpdate","JSON","stringify","V","charCodeAt","charAt","Function","arguments","usePreactHtm","firstElementChild","html","component","options","warn","customElements","define","HTMLElement","super","_props","attachShadow","mode","shadowOptions","parentElement","propsId","attrName","oldVal","newVal","observedAttributes","concat","addComponent","data-props","toString","addPassableProps"],"mappings":"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"}