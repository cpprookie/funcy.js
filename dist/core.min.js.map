{"version":3,"file":"core.min.js","sources":["../node_modules/hookuspocus/dist-src/index.js","../src/lib/renderer.js","../src/lib/component.js","../src/hooks/use_attribute.js","../src/hooks/use_css.js","../src/hooks/use_expose_method.js","../src/hooks/use_renderer.js","../src/hooks/use_host_element.js","../src/hooks/use_shadow_root.js","../src/hooks/use_connected_state.js"],"sourcesContent":["\"use strict\";\n\nconst contextMap = new (WeakMap ? WeakMap : Map)();\nlet currentContext;\n\nconst createHookApi = (name, contextMapEntry) => {\n  const hookState = contextMapEntry.hookStates[contextMapEntry.hookStateIndex];\n  return {\n    onCleanUp(callback) {\n      hookState.cleanUp = callback;\n    },\n\n    beforeNextRun(callback) {\n      hookState.beforeNextRun = callback;\n    },\n\n    afterCurrentRun(callback) {\n      hookState.afterCurrentRun = callback;\n    },\n\n    getContext() {\n      return currentContext;\n    },\n\n    getValue(initialValue) {\n      if (hookState.value === undefined) hookState.value = initialValue;\n      return hookState.value;\n    },\n\n    setValue(value, silent = false) {\n      let oldValue = hookState.value;\n      hookState.value = value;\n      if (!silent && contextMapEntry.onValueChange) contextMapEntry.onValueChange(name, value, oldValue);\n    }\n\n  };\n};\n\nexport const createHook = (name, hook) => {\n  return (...args) => {\n    if (currentContext === undefined) throw new Error(\"Hook was called outside of run()!\");\n    const contextMapEntry = contextMap.get(currentContext);\n    contextMapEntry.hookStateIndex++;\n\n    if (contextMapEntry.hookStates[contextMapEntry.hookStateIndex] === undefined) {\n      contextMapEntry.hookStates[contextMapEntry.hookStateIndex] = {\n        value: undefined\n      };\n      contextMapEntry.hookStates[contextMapEntry.hookStateIndex].hookApi = createHookApi(name, contextMapEntry);\n    }\n\n    return hook(contextMapEntry.hookStates[contextMapEntry.hookStateIndex].hookApi, ...args);\n  };\n};\n\nfunction runLifeCycleCallback(name, hookStates) {\n  for (const hookState of hookStates) {\n    if (hookState[name]) {\n      hookState[name]();\n      hookState[name] = undefined;\n    }\n  }\n}\n\nexport const hookus = (context, onValueChange) => {\n  if (!(context instanceof Object)) throw new Error(\"Context must be an object!\");\n  contextMap.set(context, {\n    hookStates: [],\n    hookStateIndex: -1,\n    onValueChange\n  });\n};\nexport const cleanUp = context => {\n  const contextMapEntry = contextMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", contextMapEntry.hookStates);\n};\nexport const dispose = context => {\n  const contextMapEntry = contextMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", contextMapEntry.hookStates);\n  contextMapEntry.hookStates.length = 0;\n  contextMapEntry.delete(context);\n};\nexport const pocus = (context, func, ...args) => {\n  if (currentContext !== undefined) throw new Error(\"Tried to start a run before the end of the previous run!\");\n  if (!contextMap.has(context)) throw new Error(\"Tried to start a run without a registered context!\");\n  currentContext = context;\n  const contextMapEntry = contextMap.get(currentContext);\n  contextMapEntry.hookStateIndex = -1;\n  runLifeCycleCallback(\"beforeNextRun\", contextMapEntry.hookStates);\n  const result = func(...args);\n\n  const finish = value => {\n    runLifeCycleCallback(\"afterCurrentRun\", contextMapEntry.hookStates);\n    currentContext = undefined;\n    return value;\n  };\n\n  if (result instanceof Promise) {\n    return result.then(finish);\n  } else {\n    return finish(result);\n  }\n};\nexport const hookuspocus = (func, {\n  context,\n  onValueChange\n}) => {\n  if (context === undefined) context = func;\n  hookus(context, onValueChange);\n\n  const runTime = function (...args) {\n    return pocus(context, func, ...args);\n  };\n\n  runTime.dispose = () => {\n    dispose(context);\n    context = undefined;\n    func = undefined;\n  };\n\n  runTime.cleanUp = () => cleanUp(context);\n\n  return runTime;\n};\nexport const useReducer = createHook(\"useReducer\", ({\n  getValue,\n  setValue\n}, reducer, initialState) => {\n  const state = getValue(initialState);\n  return [state, action => {\n    setValue(reducer(state, action));\n  }];\n});\nexport const useState = initialState => {\n  const [state, dispatch] = useReducer((_, action) => {\n    return action.value;\n  }, initialState);\n  return [state, newState => dispatch({\n    type: \"set_state\",\n    value: newState\n  })];\n};\nexport const useEffect = createHook(\"useEffect\", ({\n  getValue,\n  setValue,\n  onCleanUp,\n  afterCurrentRun\n}, effect, valuesIn) => {\n  let {\n    values,\n    cleanUp\n  } = getValue({});\n  let nothingChanged = false;\n\n  if (values !== valuesIn && values && values.length > 0) {\n    nothingChanged = true;\n    let index = values.length;\n\n    while (index--) {\n      if (valuesIn[index] !== values[index]) {\n        nothingChanged = false;\n        break;\n      }\n    }\n\n    values = valuesIn;\n  }\n\n  if (!nothingChanged) {\n    if (cleanUp) cleanUp();\n    afterCurrentRun(() => {\n      cleanUp = effect();\n      setValue({\n        values: valuesIn,\n        cleanUp\n      });\n\n      if (cleanUp) {\n        onCleanUp(() => {\n          cleanUp();\n        });\n      } else {\n        onCleanUp(undefined);\n      }\n    });\n  }\n});","\"use strict\";\r\nimport { pocus } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nconst passPropsMap = new Map();\r\nlet rendering = false;\r\nconst renderQueue = [];\r\nconst render = element => {\r\n  return pocus(element, element.render);\r\n};\r\nconst unqeue = async () => {\r\n  const length = renderQueue.length;\r\n  rendering = true;\r\n  Promise.resolve().then(async () => {\r\n    let index = length;\r\n    while (index--) {\r\n      await render(renderQueue[length - index - 1]);\r\n    }\r\n    renderQueue.splice(0, length);\r\n    rendering = false;\r\n    if (renderQueue.length > 0) unqeue();\r\n  });\r\n};\r\nexport const queueRender = (element, force) => {\r\n  if (\r\n    (renderQueue.indexOf(element) === -1 && element._isConnected === true) ||\r\n    force\r\n  ) {\r\n    renderQueue.push(element);\r\n  }\r\n  if (!rendering) {\r\n    unqeue();\r\n  }\r\n};\r\nexport const getPassableProps = id => {\r\n  const props = passPropsMap.get(id);\r\n  passPropsMap.delete(id);\r\n  return props;\r\n};\r\nlet passPropsId = 100000;\r\nexport const addPassableProps = props => {\r\n  let id = passPropsId.toString(16);\r\n  passPropsId++;\r\n  if (id.length % 2) {\r\n    id = \"0\" + id;\r\n  }\r\n  passPropsMap.set(id, props);\r\n  return id;\r\n};\r\nexport const prps = props => {\r\n  let id = addPassableProps(props);\r\n  return {\r\n    \"data-props\": id\r\n  };\r\n};\r\nexport const defaultRenderer = (view, shadowRoot) => {\r\n  if (\r\n    !(view instanceof NodeList\r\n      ? shadowRoot.contains(view[0])\r\n      : shadowRoot.contains(view))\r\n  ) {\r\n    shadowRoot.innerHTML = \"\";\r\n    if (view instanceof NodeList) {\r\n      view.forEach(node => shadowRoot.appendChild(node));\r\n    } else {\r\n      shadowRoot.appendChild(view);\r\n    }\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { queueRender, defaultRenderer, getPassableProps } from \"./renderer.js\";\r\nimport {\r\n  dispose,\r\n  hookus\r\n} from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport { prps } from \"./renderer.js\";\r\nconst componentMap = new Map();\r\nfunction addComponent(name, options = {}) {\r\n  class Component extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      this._props = {};\r\n      this._renderer = defaultRenderer;\r\n      this._isConnected = false;\r\n      hookus(this, (name, value, oldValue) => {\r\n        if (name === \"useReducer\" && value !== oldValue) {\r\n          queueRender(element);\r\n        }\r\n      });\r\n    }\r\n    connectedCallback() {\r\n      if (!this._shadowRoot) {\r\n        this._shadowRoot = this.attachShadow({\r\n          mode: \"open\",\r\n          ...(options.shadowOptions ? options.shadowOptions : {})\r\n        });\r\n      }\r\n      if (!this._isConnected) {\r\n        this._isConnected = true;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      if (this._isConnected) {\r\n        this._isConnected = false;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    destroy() {\r\n      this.parentElement.removeChild(this);\r\n      dispose(this);\r\n    }\r\n    async render() {\r\n      const propsId = this.getAttribute(\"data-props\");\r\n      if (propsId) {\r\n        this._props = getPassableProps(propsId);\r\n        this.skipQueue = true;\r\n        this.removeAttribute(\"data-props\");\r\n      }\r\n      const view = await Promise.resolve().then(() =>\r\n        componentMap.get(name)(this._props)\r\n      );\r\n      await this._renderer(view, this._shadowRoot);\r\n      this.init = false;\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      if (this.init) {\r\n        return;\r\n      }\r\n      if (!this.skipQueue && oldVal !== newVal) {\r\n        queueRender(this);\r\n      }\r\n      this.skipQueue = false;\r\n    }\r\n    static get observedAttributes() {\r\n      let observedAttributes = [\"data-props\"];\r\n      if (options.observedAttributes) {\r\n        observedAttributes = observedAttributes.concat(\r\n          options.observedAttributes\r\n        );\r\n      }\r\n      return observedAttributes;\r\n    }\r\n  }\r\n  customElements.define(name, Component);\r\n}\r\nexport const defineComponent = (name, component, options = {}) => {\r\n  if (!componentMap.has(name)) {\r\n    componentMap.set(name, component);\r\n    addComponent(name, options);\r\n  } else {\r\n    console.warn(`Component ${name} was already defined.`);\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useAttribute = createHook(\r\n  \"useAttribute\",\r\n  (attributeName, { getContext }) => {\r\n    const element = getContext();\r\n    const attributeValue = element.getAttribute(attributeName);\r\n    return [\r\n      attributeValue,\r\n      value => {\r\n        element.skipQueue = true;\r\n        element.setAttribute(attributeName, value);\r\n      }\r\n    ];\r\n  }\r\n);\r\n","\"use strict\";\r\nimport {\r\n  createHook,\r\n  useEffect\r\n} from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useCSS = createHook(\"useCSS\", (parts, ...slots) => {\r\n  const { getContext } = slots.pop();\r\n  let styles;\r\n  if (parts instanceof Array) {\r\n    styles = parts\r\n      .map((part, index) => {\r\n        if (slots[index]) {\r\n          return part + slots[index];\r\n        } else {\r\n          return part;\r\n        }\r\n      })\r\n      .join(\"\");\r\n  } else {\r\n    styles = parts;\r\n  }\r\n  styles = styles.replace(/ +(?= )/g, \"\").replace(/\\n/g, \"\");\r\n  const shadowRoot = getContext()._shadowRoot;\r\n  const style = document.createElement(\"style\");\r\n  style.innerHTML = styles;\r\n  useEffect(() => {\r\n    shadowRoot.appendChild(style);\r\n    return () => {\r\n      shadowRoot.removeChild(style);\r\n    };\r\n  });\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport const useExposeMethod = createHook(\r\n  \"useExposeMethod\",\r\n  (name, method, { getContext }) => {\r\n    const element = getContext();\r\n    element[name] = (...args) => method(...args);\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useRenderer = createHook(\r\n  \"useRenderer\",\r\n  (rendererIn, { getContext, getState }) => {\r\n    const renderer = getState(rendererIn);\r\n    getContext()._renderer = renderer;\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useHostElement = createHook(\"useHostElement\", ({ getContext }) => {\r\n  return getContext();\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useShadowRoot = createHook(\"useShadowRoot\", ({ getContext }) => {\r\n  return getContext()._shadowRoot;\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useConnectedState = createHook(\r\n  \"useConnectedState\",\r\n  ({ getContext }) => {\r\n    const element = getContext();\r\n    return element._isConnected;\r\n  }\r\n);\r\n"],"names":["contextMap","WeakMap","Map","currentContext","createHook","name","hook","args","undefined","Error","contextMapEntry","get","hookStateIndex","hookStates","value","hookApi","hookState","[object Object]","callback","cleanUp","beforeNextRun","afterCurrentRun","getContext","getValue","initialValue","silent","oldValue","onValueChange","createHookApi","runLifeCycleCallback","hookus","context","Object","set","dispose","length","delete","useReducer","setValue","reducer","initialState","state","action","useEffect","onCleanUp","effect","valuesIn","values","nothingChanged","index","passPropsMap","rendering","renderQueue","render","element","func","has","result","finish","Promise","then","pocus","unqeue","async","resolve","splice","queueRender","force","indexOf","_isConnected","push","getPassableProps","id","props","passPropsId","defaultRenderer","view","shadowRoot","NodeList","contains","innerHTML","forEach","node","appendChild","componentMap","useAttribute","attributeName","getAttribute","skipQueue","setAttribute","useCSS","parts","slots","pop","styles","Array","map","part","join","replace","_shadowRoot","style","document","createElement","removeChild","useExposeMethod","method","useRenderer","rendererIn","getState","renderer","_renderer","useHostElement","useShadowRoot","useConnectedState","component","options","console","warn","customElements","define","HTMLElement","super","this","_props","attachShadow","mode","shadowOptions","parentElement","propsId","removeAttribute","init","attrName","oldVal","newVal","observedAttributes","concat","addComponent","data-props","toString","addPassableProps","dispatch","_","newState","type"],"mappings":"oMAEA,MAAMA,EAAa,IAAKC,SAAoBC,KAC5C,IAAIC,EAEJ,MAiCaC,EAAa,CAACC,EAAMC,IACxB,IAAIC,KACT,QAAuBC,IAAnBL,EAA8B,MAAM,IAAIM,MAAM,qCAClD,MAAMC,EAAkBV,EAAWW,IAAIR,GAUvC,OATAO,EAAgBE,sBAEmDJ,IAA/DE,EAAgBG,WAAWH,EAAgBE,kBAC7CF,EAAgBG,WAAWH,EAAgBE,gBAAkB,CAC3DE,WAAON,GAETE,EAAgBG,WAAWH,EAAgBE,gBAAgBG,QA3C3C,EAACV,EAAMK,KAC3B,MAAMM,EAAYN,EAAgBG,WAAWH,EAAgBE,gBAC7D,MAAO,CACLK,UAAUC,GACRF,EAAUG,QAAUD,GAGtBD,cAAcC,GACZF,EAAUI,cAAgBF,GAG5BD,gBAAgBC,GACdF,EAAUK,gBAAkBH,GAG9BI,WAAU,IACDnB,EAGToB,SAASC,SACiBhB,IAApBQ,EAAUF,QAAqBE,EAAUF,MAAQU,GAC9CR,EAAUF,OAGnBG,SAASH,EAAOW,GAAS,GACvB,IAAIC,EAAWV,EAAUF,MACzBE,EAAUF,MAAQA,GACbW,GAAUf,EAAgBiB,eAAejB,EAAgBiB,cAActB,EAAMS,EAAOY,MAgBpBE,CAAcvB,EAAMK,IAGpFJ,EAAKI,EAAgBG,WAAWH,EAAgBE,gBAAgBG,WAAYR,IAIvF,SAASsB,EAAqBxB,EAAMQ,GAClC,IAAK,MAAMG,KAAaH,EAClBG,EAAUX,KACZW,EAAUX,KACVW,EAAUX,QAAQG,GAKjB,MAAMsB,EAAS,CAACC,EAASJ,KAC9B,KAAMI,aAAmBC,QAAS,MAAM,IAAIvB,MAAM,8BAClDT,EAAWiC,IAAIF,EAAS,CACtBlB,WAAY,GACZD,gBAAiB,EACjBe,cAAAA,KAOSO,EAAUH,IACrB,MAAMrB,EAAkBV,EAAWW,IAAIoB,GACvCF,EAAqB,UAAWnB,EAAgBG,YAChDH,EAAgBG,WAAWsB,OAAS,EACpCzB,EAAgB0B,OAAOL,IA4CZM,EAAajC,EAAW,aAAc,EACjDmB,SAAAA,EACAe,SAAAA,GACCC,EAASC,KACV,MAAMC,EAAQlB,EAASiB,GACvB,MAAO,CAACC,EAAOC,IACbJ,EAASC,EAAQE,EAAOC,QAYfC,EAAYvC,EAAW,YAAa,EAC/CmB,SAAAA,EACAe,SAAAA,EACAM,UAAAA,EACAvB,gBAAAA,GACCwB,EAAQC,KACT,IAAIC,OACFA,EAAM5B,QACNA,GACEI,EAAS,IACTyB,GAAiB,EAErB,GAAID,IAAWD,GAAYC,GAAUA,EAAOZ,OAAS,EAAG,CACtDa,GAAiB,EACjB,IAAIC,EAAQF,EAAOZ,OAEnB,KAAOc,KACL,GAAIH,EAASG,KAAWF,EAAOE,GAAQ,CACrCD,GAAiB,EACjB,MAIJD,EAASD,EAGNE,IACC7B,GAASA,IACbE,EAAgB,KACdF,EAAU0B,IACVP,EAAS,CACPS,OAAQD,EACR3B,QAAAA,IAIAyB,EADEzB,EACQ,KACRA,UAGQX,QCpLZ0C,EAAe,IAAIhD,IACzB,IAAIiD,GAAY,EAChB,MAAMC,EAAc,GACdC,EAASC,GD6EM,EAACvB,EAASwB,KAAShD,KACtC,QAAuBC,IAAnBL,EAA8B,MAAM,IAAIM,MAAM,4DAClD,IAAKT,EAAWwD,IAAIzB,GAAU,MAAM,IAAItB,MAAM,sDAC9CN,EAAiB4B,EACjB,MAAMrB,EAAkBV,EAAWW,IAAIR,GACvCO,EAAgBE,gBAAkB,EAClCiB,EAAqB,gBAAiBnB,EAAgBG,YACtD,MAAM4C,EAASF,KAAQhD,GAEjBmD,EAAS5C,IACbe,EAAqB,kBAAmBnB,EAAgBG,YACxDV,OAAiBK,EACVM,GAGT,OAAI2C,aAAkBE,QACbF,EAAOG,KAAKF,GAEZA,EAAOD,IC9FTI,CAAMP,EAASA,EAAQD,QAE1BS,EAASC,UACb,MAAM5B,EAASiB,EAAYjB,OAC3BgB,GAAY,EACZQ,QAAQK,UAAUJ,KAAKG,UACrB,IAAId,EAAQd,EACZ,KAAOc,WACCI,EAAOD,EAAYjB,EAASc,EAAQ,IAE5CG,EAAYa,OAAO,EAAG9B,GACtBgB,GAAY,EACRC,EAAYjB,OAAS,GAAG2B,OAGnBI,EAAc,CAACZ,EAASa,OAEE,IAAlCf,EAAYgB,QAAQd,KAA4C,IAAzBA,EAAQe,cAChDF,IAEAf,EAAYkB,KAAKhB,GAEdH,GACHW,KAGSS,EAAmBC,IAC9B,MAAMC,EAAQvB,EAAavC,IAAI6D,GAE/B,OADAtB,EAAad,OAAOoC,GACbC,GAET,IAAIC,EAAc,IACX,MAeMC,EAAkB,CAACC,EAAMC,MAEhCD,aAAgBE,SACdD,EAAWE,SAASH,EAAK,IACzBC,EAAWE,SAASH,MAExBC,EAAWG,UAAY,GACnBJ,aAAgBE,SAClBF,EAAKK,QAAQC,GAAQL,EAAWM,YAAYD,IAE5CL,EAAWM,YAAYP,KCxDvBQ,EAAe,IAAIlF,UCJZmF,EAAejF,EAC1B,eACA,CAACkF,GAAiBhE,WAAAA,MAChB,MAAMgC,EAAUhC,IAEhB,MAAO,CADgBgC,EAAQiC,aAAaD,GAG1CxE,IACEwC,EAAQkC,WAAY,EACpBlC,EAAQmC,aAAaH,EAAexE,OCN/B4E,EAAStF,EAAW,SAAU,CAACuF,KAAUC,KACpD,MAAMtE,WAAEA,GAAesE,EAAMC,MAC7B,IAAIC,EAcJA,GAZEA,EADEH,aAAiBI,MACVJ,EACNK,IAAI,CAACC,EAAMhD,IACN2C,EAAM3C,GACDgD,EAAOL,EAAM3C,GAEbgD,GAGVC,KAAK,IAECP,GAEKQ,QAAQ,WAAY,IAAIA,QAAQ,MAAO,IACvD,MAAMtB,EAAavD,IAAa8E,YAC1BC,EAAQC,SAASC,cAAc,SACrCF,EAAMrB,UAAYc,EAClBnD,EAAU,KACRkC,EAAWM,YAAYkB,GAChB,KACLxB,EAAW2B,YAAYH,QC3BhBI,EAAkBrG,EAC7B,kBACA,CAACC,EAAMqG,GAAUpF,WAAAA,MACCA,IACRjB,GAAQ,KAAIE,IAASmG,KAAUnG,MCH9BoG,EAAcvG,EACzB,cACA,CAACwG,GAActF,WAAAA,EAAYuF,SAAAA,MACzB,MAAMC,EAAWD,EAASD,GAC1BtF,IAAayF,UAAYD,ICJhBE,EAAiB5G,EAAW,iBAAkB,EAAGkB,WAAAA,KACrDA,KCDI2F,EAAgB7G,EAAW,gBAAiB,EAAGkB,WAAAA,KACnDA,IAAa8E,aCDTc,EAAoB9G,EAC/B,oBACA,EAAGkB,WAAAA,MAED,OADgBA,IACD+C,iCPsEY,EAAChE,EAAM8G,EAAWC,EAAU,MACpDhC,EAAa5B,IAAInD,GAIpBgH,QAAQC,kBAAkBjH,2BAH1B+E,EAAanD,IAAI5B,EAAM8G,GAvE3B,SAAsB9G,EAAM+G,EAAU,IAmEpCG,eAAeC,OAAOnH,EAlEtB,cAAwBoH,YACtBxG,cACEyG,QACAC,KAAKC,OAAS,GACdD,KAAKZ,UAAYpC,EACjBgD,KAAKtD,cAAe,EACpBvC,EAAO6F,KAAM,CAACtH,EAAMS,EAAOY,KACZ,eAATrB,GAAyBS,IAAUY,GACrCwC,EAAYZ,WAIlBrC,oBACO0G,KAAKvB,cACRuB,KAAKvB,YAAcuB,KAAKE,aAAa,CACnCC,KAAM,UACFV,EAAQW,cAAgBX,EAAQW,cAAgB,MAGnDJ,KAAKtD,eACRsD,KAAKtD,cAAe,EACpBH,EAAYyD,OAGhB1G,uBACM0G,KAAKtD,eACPsD,KAAKtD,cAAe,EACpBH,EAAYyD,OAGhB1G,UACE0G,KAAKK,cAAcxB,YAAYmB,MAC/BzF,EAAQyF,MAEV1G,eACE,MAAMgH,EAAUN,KAAKpC,aAAa,cAC9B0C,IACFN,KAAKC,OAASrD,EAAiB0D,GAC/BN,KAAKnC,WAAY,EACjBmC,KAAKO,gBAAgB,eAEvB,MAAMtD,QAAajB,QAAQK,UAAUJ,KAAK,IACxCwB,EAAazE,IAAIN,EAAjB+E,CAAuBuC,KAAKC,eAExBD,KAAKZ,UAAUnC,EAAM+C,KAAKvB,aAChCuB,KAAKQ,MAAO,EAEdlH,yBAAyBmH,EAAUC,EAAQC,GACrCX,KAAKQ,OAGJR,KAAKnC,WAAa6C,IAAWC,GAChCpE,EAAYyD,MAEdA,KAAKnC,WAAY,GAEnB+C,gCACE,IAAIA,EAAqB,CAAC,cAM1B,OALInB,EAAQmB,qBACVA,EAAqBA,EAAmBC,OACtCpB,EAAQmB,qBAGLA,KAQTE,CAAapI,EAAM+G,aDjCH3C,CAAAA,IAElB,MAAO,CACLiE,aAZ4BjE,CAAAA,IAC9B,IAAID,EAAKE,EAAYiE,SAAS,IAM9B,OALAjE,IACIF,EAAGrC,OAAS,IACdqC,EAAK,IAAMA,GAEbtB,EAAajB,IAAIuC,EAAIC,GACdD,GAGEoE,CAAiBnE,+CDqFJjC,CAAAA,IACtB,MAAOC,EAAOoG,GAAYxG,EAAW,CAACyG,EAAGpG,IAChCA,EAAO5B,MACb0B,GACH,MAAO,CAACC,EAAOsG,GAAYF,EAAS,CAClCG,KAAM,YACNlI,MAAOiI"}