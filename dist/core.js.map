{"version":3,"file":"core.js","sources":["../node_modules/hookuspocus/dist-src/index.js","../src/lib/renderer.js","../src/lib/component.js","../src/hooks/use_attribute.js","../src/hooks/use_css.js","../src/hooks/use_expose_method.js","../src/hooks/use_renderer.js","../src/hooks/use_host_element.js","../src/hooks/use_shadow_root.js","../src/hooks/use_connected_state.js"],"sourcesContent":["\"use strict\";\n\nconst contextMap = new (WeakMap ? WeakMap : Map)();\nlet currentContext;\n\nconst createHookApi = (name, contextMapEntry) => {\n  const hookState = contextMapEntry.hookStates[contextMapEntry.hookStateIndex];\n  return {\n    onCleanUp(callback) {\n      hookState.cleanUp = callback;\n    },\n\n    beforeNextRun(callback) {\n      hookState.beforeNextRun = callback;\n    },\n\n    afterCurrentRun(callback) {\n      hookState.afterCurrentRun = callback;\n    },\n\n    getContext() {\n      return currentContext;\n    },\n\n    getValue(initialValue) {\n      if (hookState.value === undefined) hookState.value = initialValue;\n      return hookState.value;\n    },\n\n    setValue(value, silent = false) {\n      let oldValue = hookState.value;\n      hookState.value = value;\n      if (!silent && contextMapEntry.onValueChange) contextMapEntry.onValueChange(name, value, oldValue);\n    }\n\n  };\n};\n\nexport const createHook = (name, hook) => {\n  return (...args) => {\n    if (currentContext === undefined) throw new Error(\"Hook was called outside of run()!\");\n    const contextMapEntry = contextMap.get(currentContext);\n    contextMapEntry.hookStateIndex++;\n\n    if (contextMapEntry.hookStates[contextMapEntry.hookStateIndex] === undefined) {\n      contextMapEntry.hookStates[contextMapEntry.hookStateIndex] = {\n        value: undefined\n      };\n      contextMapEntry.hookStates[contextMapEntry.hookStateIndex].hookApi = createHookApi(name, contextMapEntry);\n    }\n\n    return hook(contextMapEntry.hookStates[contextMapEntry.hookStateIndex].hookApi, ...args);\n  };\n};\n\nfunction runLifeCycleCallback(name, hookStates) {\n  for (const hookState of hookStates) {\n    if (hookState[name]) {\n      hookState[name]();\n      hookState[name] = undefined;\n    }\n  }\n}\n\nexport const hookus = (context, onValueChange) => {\n  if (!(context instanceof Object)) throw new Error(\"Context must be an object!\");\n  contextMap.set(context, {\n    hookStates: [],\n    hookStateIndex: -1,\n    onValueChange\n  });\n};\nexport const cleanUp = context => {\n  const contextMapEntry = contextMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", contextMapEntry.hookStates);\n};\nexport const dispose = context => {\n  const contextMapEntry = contextMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", contextMapEntry.hookStates);\n  contextMapEntry.hookStates.length = 0;\n  contextMapEntry.delete(context);\n};\nexport const pocus = (context, func, ...args) => {\n  if (currentContext !== undefined) throw new Error(\"Tried to start a run before the end of the previous run!\");\n  if (!contextMap.has(context)) throw new Error(\"Tried to start a run without a registered context!\");\n  currentContext = context;\n  const contextMapEntry = contextMap.get(currentContext);\n  contextMapEntry.hookStateIndex = -1;\n  runLifeCycleCallback(\"beforeNextRun\", contextMapEntry.hookStates);\n  const result = func(...args);\n\n  const finish = value => {\n    runLifeCycleCallback(\"afterCurrentRun\", contextMapEntry.hookStates);\n    currentContext = undefined;\n    return value;\n  };\n\n  if (result instanceof Promise) {\n    return result.then(finish);\n  } else {\n    return finish(result);\n  }\n};\nexport const hookuspocus = (func, {\n  context,\n  onValueChange\n}) => {\n  if (context === undefined) context = func;\n  hookus(context, onValueChange);\n\n  const runTime = function (...args) {\n    return pocus(context, func, ...args);\n  };\n\n  runTime.dispose = () => {\n    dispose(context);\n    context = undefined;\n    func = undefined;\n  };\n\n  runTime.cleanUp = () => cleanUp(context);\n\n  return runTime;\n};\nexport const useReducer = createHook(\"useReducer\", ({\n  getValue,\n  setValue\n}, reducer, initialState) => {\n  const state = getValue(initialState);\n  return [state, action => {\n    setValue(reducer(state, action));\n  }];\n});\nexport const useState = initialState => {\n  const [state, dispatch] = useReducer((_, action) => {\n    return action.value;\n  }, initialState);\n  return [state, newState => dispatch({\n    type: \"set_state\",\n    value: newState\n  })];\n};\nexport const useEffect = createHook(\"useEffect\", ({\n  getValue,\n  setValue,\n  onCleanUp,\n  afterCurrentRun\n}, effect, valuesIn) => {\n  let {\n    values,\n    cleanUp\n  } = getValue({});\n  let nothingChanged = false;\n\n  if (values !== valuesIn && values && values.length > 0) {\n    nothingChanged = true;\n    let index = values.length;\n\n    while (index--) {\n      if (valuesIn[index] !== values[index]) {\n        nothingChanged = false;\n        break;\n      }\n    }\n\n    values = valuesIn;\n  }\n\n  if (!nothingChanged) {\n    if (cleanUp) cleanUp();\n    afterCurrentRun(() => {\n      cleanUp = effect();\n      setValue({\n        values: valuesIn,\n        cleanUp\n      });\n\n      if (cleanUp) {\n        onCleanUp(() => {\n          cleanUp();\n        });\n      } else {\n        onCleanUp(undefined);\n      }\n    });\n  }\n});","\"use strict\";\r\nimport { pocus } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nconst passPropsMap = new Map();\r\nlet rendering = false;\r\nconst renderQueue = [];\r\nconst render = element => {\r\n  return pocus(element, element.render);\r\n};\r\nconst unqeue = async () => {\r\n  const length = renderQueue.length;\r\n  rendering = true;\r\n  Promise.resolve().then(async () => {\r\n    let index = length;\r\n    while (index--) {\r\n      await render(renderQueue[length - index - 1]);\r\n    }\r\n    renderQueue.splice(0, length);\r\n    rendering = false;\r\n    if (renderQueue.length > 0) unqeue();\r\n  });\r\n};\r\nexport const queueRender = (element, force) => {\r\n  if (\r\n    (renderQueue.indexOf(element) === -1 && element._isConnected === true) ||\r\n    force\r\n  ) {\r\n    renderQueue.push(element);\r\n  }\r\n  if (!rendering) {\r\n    unqeue();\r\n  }\r\n};\r\nexport const getPassableProps = id => {\r\n  const props = passPropsMap.get(id);\r\n  passPropsMap.delete(id);\r\n  return props;\r\n};\r\nlet passPropsId = 100000;\r\nexport const addPassableProps = props => {\r\n  let id = passPropsId.toString(16);\r\n  passPropsId++;\r\n  if (id.length % 2) {\r\n    id = \"0\" + id;\r\n  }\r\n  passPropsMap.set(id, props);\r\n  return id;\r\n};\r\nexport const prps = props => {\r\n  let id = addPassableProps(props);\r\n  return {\r\n    \"data-props\": id\r\n  };\r\n};\r\nexport const defaultRenderer = (view, shadowRoot) => {\r\n  if (\r\n    !(view instanceof NodeList\r\n      ? shadowRoot.contains(view[0])\r\n      : shadowRoot.contains(view))\r\n  ) {\r\n    shadowRoot.innerHTML = \"\";\r\n    if (view instanceof NodeList) {\r\n      view.forEach(node => shadowRoot.appendChild(node));\r\n    } else {\r\n      shadowRoot.appendChild(view);\r\n    }\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { queueRender, defaultRenderer, getPassableProps } from \"./renderer.js\";\r\nimport {\r\n  dispose,\r\n  hookus\r\n} from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport { prps } from \"./renderer.js\";\r\nconst componentMap = new Map();\r\nfunction addComponent(name, options = {}) {\r\n  class Component extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      this._props = {};\r\n      this._renderer = defaultRenderer;\r\n      this._isConnected = false;\r\n      hookus(this, (name, value, oldValue) => {\r\n        if (name === \"useReducer\" && value !== oldValue) {\r\n          queueRender(element);\r\n        }\r\n      });\r\n    }\r\n    connectedCallback() {\r\n      if (!this._shadowRoot) {\r\n        this._shadowRoot = this.attachShadow({\r\n          mode: \"open\",\r\n          ...(options.shadowOptions ? options.shadowOptions : {})\r\n        });\r\n      }\r\n      if (!this._isConnected) {\r\n        this._isConnected = true;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      if (this._isConnected) {\r\n        this._isConnected = false;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    destroy() {\r\n      this.parentElement.removeChild(this);\r\n      dispose(this);\r\n    }\r\n    async render() {\r\n      const propsId = this.getAttribute(\"data-props\");\r\n      if (propsId) {\r\n        this._props = getPassableProps(propsId);\r\n        this.skipQueue = true;\r\n        this.removeAttribute(\"data-props\");\r\n      }\r\n      const view = await Promise.resolve().then(() =>\r\n        componentMap.get(name)(this._props)\r\n      );\r\n      await this._renderer(view, this._shadowRoot);\r\n      this.init = false;\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      if (this.init) {\r\n        return;\r\n      }\r\n      if (!this.skipQueue && oldVal !== newVal) {\r\n        queueRender(this);\r\n      }\r\n      this.skipQueue = false;\r\n    }\r\n    static get observedAttributes() {\r\n      let observedAttributes = [\"data-props\"];\r\n      if (options.observedAttributes) {\r\n        observedAttributes = observedAttributes.concat(\r\n          options.observedAttributes\r\n        );\r\n      }\r\n      return observedAttributes;\r\n    }\r\n  }\r\n  customElements.define(name, Component);\r\n}\r\nexport const defineComponent = (name, component, options = {}) => {\r\n  if (!componentMap.has(name)) {\r\n    componentMap.set(name, component);\r\n    addComponent(name, options);\r\n  } else {\r\n    console.warn(`Component ${name} was already defined.`);\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useAttribute = createHook(\r\n  \"useAttribute\",\r\n  (attributeName, { getContext }) => {\r\n    const element = getContext();\r\n    const attributeValue = element.getAttribute(attributeName);\r\n    return [\r\n      attributeValue,\r\n      value => {\r\n        element.skipQueue = true;\r\n        element.setAttribute(attributeName, value);\r\n      }\r\n    ];\r\n  }\r\n);\r\n","\"use strict\";\r\nimport {\r\n  createHook,\r\n  useEffect\r\n} from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useCSS = createHook(\"useCSS\", (parts, ...slots) => {\r\n  const { getContext } = slots.pop();\r\n  let styles;\r\n  if (parts instanceof Array) {\r\n    styles = parts\r\n      .map((part, index) => {\r\n        if (slots[index]) {\r\n          return part + slots[index];\r\n        } else {\r\n          return part;\r\n        }\r\n      })\r\n      .join(\"\");\r\n  } else {\r\n    styles = parts;\r\n  }\r\n  styles = styles.replace(/ +(?= )/g, \"\").replace(/\\n/g, \"\");\r\n  const shadowRoot = getContext()._shadowRoot;\r\n  const style = document.createElement(\"style\");\r\n  style.innerHTML = styles;\r\n  useEffect(() => {\r\n    shadowRoot.appendChild(style);\r\n    return () => {\r\n      shadowRoot.removeChild(style);\r\n    };\r\n  });\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport const useExposeMethod = createHook(\r\n  \"useExposeMethod\",\r\n  (name, method, { getContext }) => {\r\n    const element = getContext();\r\n    element[name] = (...args) => method(...args);\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useRenderer = createHook(\r\n  \"useRenderer\",\r\n  (rendererIn, { getContext, getState }) => {\r\n    const renderer = getState(rendererIn);\r\n    getContext()._renderer = renderer;\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useHostElement = createHook(\"useHostElement\", ({ getContext }) => {\r\n  return getContext();\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useShadowRoot = createHook(\"useShadowRoot\", ({ getContext }) => {\r\n  return getContext()._shadowRoot;\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useConnectedState = createHook(\r\n  \"useConnectedState\",\r\n  ({ getContext }) => {\r\n    const element = getContext();\r\n    return element._isConnected;\r\n  }\r\n);\r\n"],"names":[],"mappings":"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"}AAK;EAClB,OAAO,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK;EAC5B,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;EAC1B,UAAU,OAAO,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;EACrC,SAAS,MAAM;EACf,UAAU,OAAO,IAAI,CAAC;EACtB,SAAS;EACT,OAAO,CAAC;EACR,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC;EAChB,GAAG,MAAM;EACT,IAAI,MAAM,GAAG,KAAK,CAAC;EACnB,GAAG;EACH,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;EAC7D,EAAE,MAAM,UAAU,GAAG,UAAU,EAAE,CAAC,WAAW,CAAC;EAC9C,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAChD,EAAE,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;EAC3B,EAAE,SAAS,CAAC,MAAM;EAClB,IAAI,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EAClC,IAAI,OAAO,MAAM;EACjB,MAAM,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EACpC,KAAK,CAAC;EACN,GAAG,CAAC,CAAC;EACL,CAAC,CAAC;;AC9BU,QAAC,eAAe,GAAG,UAAU;EACzC,EAAE,iBAAiB;EACnB,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,KAAK;EACpC,IAAI,MAAM,OAAO,GAAG,UAAU,EAAE,CAAC;EACjC,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,KAAK,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;EACjD,GAAG;EACH,CAAC;;ACLW,QAAC,WAAW,GAAG,UAAU;EACrC,EAAE,aAAa;EACf,EAAE,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK;EAC5C,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;EAC1C,IAAI,UAAU,EAAE,CAAC,SAAS,GAAG,QAAQ,CAAC;EACtC,GAAG;EACH,CAAC;;ACNW,QAAC,cAAc,GAAG,UAAU,CAAC,gBAAgB,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK;EAC/E,EAAE,OAAO,UAAU,EAAE,CAAC;EACtB,CAAC,CAAC;;ACFU,QAAC,aAAa,GAAG,UAAU,CAAC,eAAe,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK;EAC7E,EAAE,OAAO,UAAU,EAAE,CAAC,WAAW,CAAC;EAClC,CAAC,CAAC;;ACFU,QAAC,iBAAiB,GAAG,UAAU;EAC3C,EAAE,mBAAmB;EACrB,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK;EACtB,IAAI,MAAM,OAAO,GAAG,UAAU,EAAE,CAAC;EACjC,IAAI,OAAO,OAAO,CAAC,YAAY,CAAC;EAChC,GAAG;EACH,CAAC;;;;;;;;;;;;;;;;;;;;;;;;"}