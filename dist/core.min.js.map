{"version":3,"file":"core.min.js","sources":["../node_modules/hookuspocus/dist-src/index.js","../src/lib/renderer.js","../src/lib/component.js","../src/hooks/use_attribute.js","../src/hooks/use_css.js","../src/hooks/use_expose_method.js","../src/hooks/use_renderer.js","../src/hooks/use_host_element.js","../src/hooks/use_shadow_root.js","../src/hooks/use_connected_state.js"],"sourcesContent":["\"use strict\";\n\nconst OUTSIDE_RUN = Symbol(\"outside_run\");\nlet currentRun = OUTSIDE_RUN;\nconst hookStateMap = new (WeakMap ? WeakMap : Map)();\n\nconst reset = () => {\n  currentRun = OUTSIDE_RUN;\n};\n\nconst createHookApi = name => {\n  const hookStates = hookStateMap.get(currentRun.context);\n\n  if (hookStates[currentRun.hookStateIndex] === undefined) {\n    hookStates[currentRun.hookStateIndex] = {};\n  }\n\n  const hookState = hookStates[currentRun.hookStateIndex];\n  const onStateChange = currentRun.onStateChange;\n  return {\n    onCleanUp(callback) {\n      hookState.cleanUp = callback;\n    },\n\n    beforeNextRun(callback) {\n      hookState.beforeNextRun = callback;\n    },\n\n    afterCurrentRun(callback) {\n      hookState.afterCurrentRun = callback;\n    },\n\n    getContext() {\n      return currentRun.context;\n    },\n\n    getState(initialState) {\n      if (hookState.state === undefined) hookState.state = initialState;\n      return hookState.state;\n    },\n\n    setState(value, silent = false) {\n      let oldValue = hookState.state;\n      hookState.state = value;\n      if (!silent && onStateChange) onStateChange(name, oldValue, value);\n    }\n\n  };\n};\n\nexport const createHook = (name, hook) => {\n  return (...args) => {\n    if (currentRun.context === OUTSIDE_RUN) throw new Error(\"Hook was called outside of run()!\");\n    currentRun.hookStateIndex++;\n    const hookApi = createHookApi(name);\n    return hook(...args, hookApi);\n  };\n};\n\nfunction runLifeCycleCallback(name, hookStates, length) {\n  let index = length;\n\n  while (index--) {\n    const hookState = hookStates[length - index - 1];\n\n    if (hookState[name]) {\n      hookState[name]();\n      hookState[name] = undefined;\n    }\n  }\n}\n\nexport const cleanUp = context => {\n  const hookStates = hookStateMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", hookStates, hookStates.length);\n};\nexport const dispose = context => {\n  const hookStates = hookStateMap.get(context);\n  runLifeCycleCallback(\"cleanUp\", hookStates, hookStates.length);\n  hookStateMap.delete(context);\n};\nexport const run = (runData, ...args) => {\n  if (typeof runData === \"function\") {\n    runData = {\n      context: runData,\n      function: runData\n    };\n  }\n\n  if (!(runData.context instanceof Object)) throw new Error(\"Run was called without a valid object context!\");\n  currentRun = runData;\n  currentRun.hookStateIndex = -1;\n  let init = false;\n\n  if (!hookStateMap.has(currentRun.context)) {\n    hookStateMap.set(currentRun.context, []);\n    init = true;\n  }\n\n  const hookStates = hookStateMap.get(currentRun.context);\n  const length = hookStates.length;\n  runLifeCycleCallback(\"beforeNextRun\", hookStates, length);\n  const result = runData.function(...args);\n\n  if (result instanceof Promise) {\n    return result.then(value => {\n      runLifeCycleCallback(\"afterCurrentRun\", hookStates, init ? hookStates.length : length);\n      reset();\n      return value;\n    });\n  } else {\n    runLifeCycleCallback(\"afterCurrentRun\", hookStates, init ? hookStates.length : length);\n    reset();\n    return result;\n  }\n};\nexport const useReducer = createHook(\"useReducer\", (reducer, initialState, {\n  getState,\n  setState\n}) => {\n  const state = getState(initialState);\n  return [state, action => {\n    setState(reducer(state, action));\n  }];\n});\nexport const useState = createHook(\"useState\", initialState => {\n  const [state, dispatch] = useReducer((_, action) => {\n    return action.value;\n  }, initialState);\n  return [state, newState => dispatch({\n    type: \"set_state\",\n    value: newState\n  })];\n});\nexport const useEffect = createHook(\"useEffect\", (effect, ...rest) => {\n  let valuesIn;\n\n  if (rest.length > 1) {\n    valuesIn = rest[0];\n  }\n\n  const {\n    getState,\n    setState,\n    onCleanUp,\n    afterCurrentRun\n  } = rest[rest.length - 1];\n  let {\n    values,\n    cleanUp\n  } = getState({});\n  let nothingChanged = false;\n\n  if (values !== valuesIn && values && values.length > 0) {\n    nothingChanged = true;\n    let index = values.length;\n\n    while (index--) {\n      if (valuesIn[index] !== values[index]) {\n        nothingChanged = false;\n        break;\n      }\n    }\n\n    values = valuesIn;\n  }\n\n  if (!nothingChanged) {\n    if (cleanUp) cleanUp();\n    afterCurrentRun(() => {\n      cleanUp = effect();\n      setState({\n        values: valuesIn,\n        cleanUp\n      });\n\n      if (cleanUp) {\n        onCleanUp(() => {\n          cleanUp();\n        });\n      } else {\n        onCleanUp(undefined);\n      }\n    });\n  }\n});","\"use strict\";\r\nimport { run } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nconst passPropsMap = new Map();\r\nlet rendering = false;\r\nconst renderQueue = [];\r\nconst render = element => {\r\n  return run({\r\n    context: element,\r\n    onStateChange: (name, state, oldState) => {\r\n      console.log(name, state, oldState);\r\n    },\r\n    function: () => element.render(),\r\n    onStateChange: name => {\r\n      if (name === \"useReducer\") {\r\n        queueRender(element);\r\n      }\r\n    }\r\n  });\r\n};\r\nconst unqeue = async () => {\r\n  const length = renderQueue.length;\r\n  rendering = true;\r\n  Promise.resolve().then(async () => {\r\n    let index = length;\r\n    while (index--) {\r\n      await render(renderQueue[length - index - 1]);\r\n    }\r\n    renderQueue.splice(0, length);\r\n    rendering = false;\r\n    if (renderQueue.length > 0) unqeue();\r\n  });\r\n};\r\nexport const queueRender = (element, force) => {\r\n  if (\r\n    (renderQueue.indexOf(element) === -1 && element._isConnected === true) ||\r\n    force\r\n  ) {\r\n    renderQueue.push(element);\r\n  }\r\n  if (!rendering) {\r\n    unqeue();\r\n  }\r\n};\r\nexport const getPassableProps = id => {\r\n  const props = passPropsMap.get(id);\r\n  passPropsMap.delete(id);\r\n  return props;\r\n};\r\nlet passPropsId = 100000;\r\nexport const addPassableProps = props => {\r\n  let id = passPropsId.toString(16);\r\n  passPropsId++;\r\n  if (id.length % 2) {\r\n    id = \"0\" + id;\r\n  }\r\n  passPropsMap.set(id, props);\r\n  return id;\r\n};\r\nexport const prps = props => {\r\n  let id = addPassableProps(props);\r\n  return {\r\n    \"data-props\": id\r\n  };\r\n};\r\nexport const defaultRenderer = (view, shadowRoot) => {\r\n  if (\r\n    !(view instanceof NodeList\r\n      ? shadowRoot.contains(view[0])\r\n      : shadowRoot.contains(view))\r\n  ) {\r\n    shadowRoot.innerHTML = \"\";\r\n    if (view instanceof NodeList) {\r\n      view.forEach(node => shadowRoot.appendChild(node));\r\n    } else {\r\n      shadowRoot.appendChild(view);\r\n    }\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { queueRender, defaultRenderer, getPassableProps } from \"./renderer.js\";\r\nimport { dispose } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport { prps } from \"./renderer.js\";\r\nconst componentMap = new Map();\r\nfunction addComponent(name, options = {}) {\r\n  class Component extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      this._props = {};\r\n      this._renderer = defaultRenderer;\r\n      this._isConnected = false;\r\n    }\r\n    connectedCallback() {\r\n      if (!this._shadowRoot) {\r\n        this._shadowRoot = this.attachShadow({\r\n          mode: \"open\",\r\n          ...(options.shadowOptions ? options.shadowOptions : {})\r\n        });\r\n      }\r\n      if (!this._isConnected) {\r\n        this._isConnected = true;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      if (this._isConnected) {\r\n        this._isConnected = false;\r\n        queueRender(this);\r\n      }\r\n    }\r\n    destroy() {\r\n      this.parentElement.removeChild(this);\r\n      dispose(this);\r\n    }\r\n    async render() {\r\n      const propsId = this.getAttribute(\"data-props\");\r\n      if (propsId) {\r\n        this._props = getPassableProps(propsId);\r\n        this.skipQueue = true;\r\n        this.removeAttribute(\"data-props\");\r\n      }\r\n      const view = await Promise.resolve().then(() =>\r\n        componentMap.get(name)(this._props)\r\n      );\r\n      await this._renderer(view, this._shadowRoot);\r\n      this.init = false;\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      if (this.init) {\r\n        return;\r\n      }\r\n      if (!this.skipQueue && oldVal !== newVal) {\r\n        queueRender(this);\r\n      }\r\n      this.skipQueue = false;\r\n    }\r\n    static get observedAttributes() {\r\n      let observedAttributes = [\"data-props\"];\r\n      if (options.observedAttributes) {\r\n        observedAttributes = observedAttributes.concat(\r\n          options.observedAttributes\r\n        );\r\n      }\r\n      return observedAttributes;\r\n    }\r\n  }\r\n  customElements.define(name, Component);\r\n}\r\nexport const defineComponent = (name, component, options = {}) => {\r\n  if (!componentMap.has(name)) {\r\n    componentMap.set(name, component);\r\n    addComponent(name, options);\r\n  } else {\r\n    console.warn(`Component ${name} was already defined.`);\r\n  }\r\n};\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useAttribute = createHook(\r\n  \"useAttribute\",\r\n  (attributeName, { getContext }) => {\r\n    const element = getContext();\r\n    const attributeValue = element.getAttribute(attributeName);\r\n    return [\r\n      attributeValue,\r\n      value => {\r\n        element.skipQueue = true;\r\n        element.setAttribute(attributeName, value);\r\n      }\r\n    ];\r\n  }\r\n);\r\n","\"use strict\";\r\nimport {\r\n  createHook,\r\n  useEffect\r\n} from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useCSS = createHook(\"useCSS\", (parts, ...slots) => {\r\n  const { getContext } = slots.pop();\r\n  let styles;\r\n  if (parts instanceof Array) {\r\n    styles = parts\r\n      .map((part, index) => {\r\n        if (slots[index]) {\r\n          return part + slots[index];\r\n        } else {\r\n          return part;\r\n        }\r\n      })\r\n      .join(\"\");\r\n  } else {\r\n    styles = parts;\r\n  }\r\n  styles = styles.replace(/ +(?= )/g, \"\").replace(/\\n/g, \"\");\r\n  const shadowRoot = getContext()._shadowRoot;\r\n  const style = document.createElement(\"style\");\r\n  style.innerHTML = styles;\r\n  useEffect(() => {\r\n    shadowRoot.appendChild(style);\r\n    return () => {\r\n      shadowRoot.removeChild(style);\r\n    };\r\n  });\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\nexport const useExposeMethod = createHook(\r\n  \"useExposeMethod\",\r\n  (name, method, { getContext }) => {\r\n    const element = getContext();\r\n    element[name] = (...args) => method(...args);\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useRenderer = createHook(\r\n  \"useRenderer\",\r\n  (rendererIn, { getContext, getState }) => {\r\n    const renderer = getState(rendererIn);\r\n    getContext()._renderer = renderer;\r\n  }\r\n);\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useHostElement = createHook(\"useHostElement\", ({ getContext }) => {\r\n  return getContext();\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useShadowRoot = createHook(\"useShadowRoot\", ({ getContext }) => {\r\n  return getContext()._shadowRoot;\r\n});\r\n","\"use strict\";\r\nimport { createHook } from \"../../node_modules/hookuspocus/dist-src/index.js\";\r\n\r\nexport const useConnectedState = createHook(\r\n  \"useConnectedState\",\r\n  ({ getContext }) => {\r\n    const element = getContext();\r\n    return element._isConnected;\r\n  }\r\n);\r\n"],"names":["OUTSIDE_RUN","Symbol","currentRun","hookStateMap","WeakMap","Map","reset","createHook","name","hook","args","context","Error","hookStateIndex","hookApi","hookStates","get","undefined","hookState","onStateChange","[object Object]","callback","cleanUp","beforeNextRun","afterCurrentRun","getContext","getState","initialState","state","value","silent","oldValue","createHookApi","runLifeCycleCallback","length","index","dispose","delete","useEffect","effect","rest","valuesIn","setState","onCleanUp","values","nothingChanged","passPropsMap","rendering","renderQueue","render","element","runData","function","Object","init","has","set","result","Promise","then","run","oldState","console","log","queueRender","unqeue","async","resolve","splice","force","indexOf","_isConnected","push","getPassableProps","id","props","passPropsId","defaultRenderer","view","shadowRoot","NodeList","contains","innerHTML","forEach","node","appendChild","componentMap","useAttribute","attributeName","getAttribute","skipQueue","setAttribute","useCSS","parts","slots","pop","styles","Array","map","part","join","replace","_shadowRoot","style","document","createElement","removeChild","useExposeMethod","method","useRenderer","rendererIn","renderer","_renderer","useHostElement","useShadowRoot","useConnectedState","component","options","warn","customElements","define","HTMLElement","super","this","_props","attachShadow","mode","shadowOptions","parentElement","propsId","removeAttribute","attrName","oldVal","newVal","observedAttributes","concat","addComponent","data-props","toString","addPassableProps"],"mappings":"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"}